---
import BaseLayout from "../../layouts/BaseLayout.astro";
import TopBanner from "../../components/TopBanner.astro";
import { getRealEstatePosts } from "../../lib/contentful";

const posts = await getRealEstatePosts(30);
---

<BaseLayout title="地产资讯" subtitle="REAL ESTATE">
  <TopBanner zh="地产资讯" en="REAL ESTATE" />

  <section style="max-width:1000px;margin:40px auto 80px;padding:0 20px;">
    {posts.map((p) => (
      <a href={`/real-estate/${p.slug}`} style="display:block;padding:16px;border:1px solid #E2E6F0;border-radius:16px;text-decoration:none;margin-bottom:14px;background:#fff;">
        <div style="font-weight:900;color:#0B1F4D;font-size:18px;margin-bottom:6px;">{p.title}</div>
        <div style="opacity:.7;font-size:12px;margin-bottom:10px;">{new Date(p.publishDate).toLocaleDateString("zh-CN")}</div>
        <div style="color:#0E1A2B;opacity:.9;line-height:1.8;">{p.summary}</div>
      </a>
    ))}
  </section>
</BaseLayout>